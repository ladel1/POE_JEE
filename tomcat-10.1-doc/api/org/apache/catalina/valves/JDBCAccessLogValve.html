<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>JDBCAccessLogValve (Apache Tomcat 10.1.11 API Documentation)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JDBCAccessLogValve (Apache Tomcat 10.1.11 API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache Tomcat 10.1.11</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.catalina.valves</a></div>
<h2 title="Class JDBCAccessLogValve" class="title">Class JDBCAccessLogValve</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../util/LifecycleBase.html" title="class in org.apache.catalina.util">org.apache.catalina.util.LifecycleBase</a></li>
<li>
<ul class="inheritance">
<li><a href="../util/LifecycleMBeanBase.html" title="class in org.apache.catalina.util">org.apache.catalina.util.LifecycleMBeanBase</a></li>
<li>
<ul class="inheritance">
<li><a href="ValveBase.html" title="class in org.apache.catalina.valves">org.apache.catalina.valves.ValveBase</a></li>
<li>
<ul class="inheritance">
<li>org.apache.catalina.valves.JDBCAccessLogValve</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.management/javax/management/MBeanRegistration.html?is-external=true" title="class or interface in javax.management" class="externalLink">MBeanRegistration</a></code>, <code><a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></code>, <code><a href="../Contained.html" title="interface in org.apache.catalina">Contained</a></code>, <code><a href="../JmxEnabled.html" title="interface in org.apache.catalina">JmxEnabled</a></code>, <code><a href="../Lifecycle.html" title="interface in org.apache.catalina">Lifecycle</a></code>, <code><a href="../Valve.html" title="interface in org.apache.catalina">Valve</a></code></dd>
</dl>
<hr>
<pre>public final class <span class="typeNameLabel">JDBCAccessLogValve</span>
extends <a href="ValveBase.html" title="class in org.apache.catalina.valves">ValveBase</a>
implements <a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></pre>
<div class="block"><p>
 This Tomcat extension logs server access directly to a database, and can be used instead of the regular file-based
 access log implemented in AccessLogValve. To use, copy into the server/classes directory of the Tomcat installation
 and configure in server.xml as:
 </p>

 <pre>
      &lt;Valve className="org.apache.catalina.valves.JDBCAccessLogValve"
          driverName="<i>your_jdbc_driver</i>"
          connectionURL="<i>your_jdbc_url</i>"
          pattern="combined" resolveHosts="false"
      /&gt;
 </pre>
 <p>
 Many parameters can be configured, such as the database connection (with <code>driverName</code> and
 <code>connectionURL</code>), the table name (<code>tableName</code>) and the field names (corresponding to the
 get/set method names). The same options as AccessLogValve are supported, such as <code>resolveHosts</code> and
 <code>pattern</code> ("common" or "combined" only).
 </p>
 <p>
 When Tomcat is started, a database connection is created and used for all the log activity. When Tomcat is shutdown,
 the database connection is closed. This logger can be used at the level of the Engine context (being shared by all
 the defined hosts) or the Host context (one instance of the logger per host, possibly using different databases).
 </p>
 <p>
 The database table can be created with the following command:
 </p>

 <pre>
 CREATE TABLE access (
 id INT UNSIGNED AUTO_INCREMENT NOT NULL,
 remoteHost CHAR(15) NOT NULL,
 userName CHAR(15),
 timestamp TIMESTAMP NOT NULL,
 virtualHost VARCHAR(64) NOT NULL,
 method VARCHAR(8) NOT NULL,
 query VARCHAR(255) NOT NULL,
 status SMALLINT UNSIGNED NOT NULL,
 bytes INT UNSIGNED NOT NULL,
 referer VARCHAR(128),
 userAgent VARCHAR(128),
 PRIMARY KEY (id),
 INDEX (timestamp),
 INDEX (remoteHost),
 INDEX (virtualHost),
 INDEX (query),
 INDEX (userAgent)
 );
 </pre>
 <p>
 Set JDBCAccessLogValve attribute useLongContentLength="true" as you have more then 4GB outputs. Please, use long SQL
 datatype at access.bytes attribute. The datatype of bytes at oracle is <i>number</i> and other databases use <i>bytes
 BIGINT NOT NULL</i>.
 </p>
 <p>
 If the table is created as above, its name and the field names don't need to be defined.
 </p>
 <p>
 If the request method is "common", only these fields are used:
 <code>remoteHost, user, timeStamp, query, status, bytes</code>
 </p>
 <p>
 <i>TO DO: provide option for excluding logging of certain MIME types.</i>
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Andre de Jesus, Peter Rossbach</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.org.apache.catalina.Lifecycle">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.apache.catalina.<a href="../Lifecycle.html" title="interface in org.apache.catalina">Lifecycle</a></h3>
<code><a href="../Lifecycle.SingleUse.html" title="interface in org.apache.catalina">Lifecycle.SingleUse</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.catalina.valves.ValveBase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.catalina.valves.<a href="ValveBase.html" title="class in org.apache.catalina.valves">ValveBase</a></h3>
<code><a href="ValveBase.html#asyncSupported">asyncSupported</a>, <a href="ValveBase.html#container">container</a>, <a href="ValveBase.html#containerLog">containerLog</a>, <a href="ValveBase.html#next">next</a>, <a href="ValveBase.html#sm">sm</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.catalina.AccessLog">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.catalina.<a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></h3>
<code><a href="../AccessLog.html#PROTOCOL_ATTRIBUTE">PROTOCOL_ATTRIBUTE</a>, <a href="../AccessLog.html#REMOTE_ADDR_ATTRIBUTE">REMOTE_ADDR_ATTRIBUTE</a>, <a href="../AccessLog.html#REMOTE_HOST_ATTRIBUTE">REMOTE_HOST_ATTRIBUTE</a>, <a href="../AccessLog.html#SERVER_NAME_ATTRIBUTE">SERVER_NAME_ATTRIBUTE</a>, <a href="../AccessLog.html#SERVER_PORT_ATTRIBUTE">SERVER_PORT_ATTRIBUTE</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.catalina.Lifecycle">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.catalina.<a href="../Lifecycle.html" title="interface in org.apache.catalina">Lifecycle</a></h3>
<code><a href="../Lifecycle.html#AFTER_DESTROY_EVENT">AFTER_DESTROY_EVENT</a>, <a href="../Lifecycle.html#AFTER_INIT_EVENT">AFTER_INIT_EVENT</a>, <a href="../Lifecycle.html#AFTER_START_EVENT">AFTER_START_EVENT</a>, <a href="../Lifecycle.html#AFTER_STOP_EVENT">AFTER_STOP_EVENT</a>, <a href="../Lifecycle.html#BEFORE_DESTROY_EVENT">BEFORE_DESTROY_EVENT</a>, <a href="../Lifecycle.html#BEFORE_INIT_EVENT">BEFORE_INIT_EVENT</a>, <a href="../Lifecycle.html#BEFORE_START_EVENT">BEFORE_START_EVENT</a>, <a href="../Lifecycle.html#BEFORE_STOP_EVENT">BEFORE_STOP_EVENT</a>, <a href="../Lifecycle.html#CONFIGURE_START_EVENT">CONFIGURE_START_EVENT</a>, <a href="../Lifecycle.html#CONFIGURE_STOP_EVENT">CONFIGURE_STOP_EVENT</a>, <a href="../Lifecycle.html#PERIODIC_EVENT">PERIODIC_EVENT</a>, <a href="../Lifecycle.html#START_EVENT">START_EVENT</a>, <a href="../Lifecycle.html#STOP_EVENT">STOP_EVENT</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">JDBCAccessLogValve</a></span>()</code></th>
<td class="colLast">
<div class="block">Class constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Close the specified database connection.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnectionName()">getConnectionName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnectionPassword()">getConnectionPassword</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentTimeMillis()">getCurrentTimeMillis</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRequestAttributesEnabled()">getRequestAttributesEnabled</a></span>()</code></th>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUseLongContentLength()">getUseLongContentLength</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invoke(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response)">invoke</a></span>&#8203;(<a href="../connector/Request.html" title="class in org.apache.catalina.connector">Request</a>&nbsp;request,
      <a href="../connector/Response.html" title="class in org.apache.catalina.connector">Response</a>&nbsp;response)</code></th>
<td class="colLast">
<div class="block">This method is invoked by Tomcat on each query.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#log(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response,long)">log</a></span>&#8203;(<a href="../connector/Request.html" title="class in org.apache.catalina.connector">Request</a>&nbsp;request,
   <a href="../connector/Response.html" title="class in org.apache.catalina.connector">Response</a>&nbsp;response,
   long&nbsp;time)</code></th>
<td class="colLast">
<div class="block">Add the request/response to the access log using the specified processing
 time.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#open()">open</a></span>()</code></th>
<td class="colLast">
<div class="block">Open (if necessary) and return a database connection for use by this AccessLogValve.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBytesField(java.lang.String)">setBytesField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;bytesField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the number of bytes returned.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConnectionName(java.lang.String)">setConnectionName</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionName)</code></th>
<td class="colLast">
<div class="block">Set the username to use to connect to the database.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConnectionPassword(java.lang.String)">setConnectionPassword</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionPassword)</code></th>
<td class="colLast">
<div class="block">Set the password to use to connect to the database.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConnectionURL(java.lang.String)">setConnectionURL</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionURL)</code></th>
<td class="colLast">
<div class="block">Sets the JDBC URL for the database where the log is stored.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDriverName(java.lang.String)">setDriverName</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;driverName)</code></th>
<td class="colLast">
<div class="block">Sets the database driver name.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMethodField(java.lang.String)">setMethodField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;methodField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the HTTP request method.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPattern(java.lang.String)">setPattern</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pattern)</code></th>
<td class="colLast">
<div class="block">Sets the logging pattern.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setQueryField(java.lang.String)">setQueryField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;queryField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the URL part of the HTTP query.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRefererField(java.lang.String)">setRefererField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;refererField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the referer.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRemoteHostField(java.lang.String)">setRemoteHostField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;remoteHostField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the remote host.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRequestAttributesEnabled(boolean)">setRequestAttributesEnabled</a></span>&#8203;(boolean&nbsp;requestAttributesEnabled)</code></th>
<td class="colLast">
<div class="block">Should this valve use request attributes for IP address, hostname,
 protocol and port used for the request?</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setResolveHosts(java.lang.String)">setResolveHosts</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resolveHosts)</code></th>
<td class="colLast">
<div class="block">Determines whether IP host name resolution is done.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStatusField(java.lang.String)">setStatusField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;statusField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the HTTP response status code.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTableName(java.lang.String)">setTableName</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tableName)</code></th>
<td class="colLast">
<div class="block">Sets the name of the table where the logs are stored.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimestampField(java.lang.String)">setTimestampField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;timestampField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the server-determined timestamp.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUseLongContentLength(boolean)">setUseLongContentLength</a></span>&#8203;(boolean&nbsp;useLongContentLength)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUserAgentField(java.lang.String)">setUserAgentField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;userAgentField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the user agent.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUserField(java.lang.String)">setUserField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;userField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the remote user name.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setVirtualHostField(java.lang.String)">setVirtualHostField</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;virtualHostField)</code></th>
<td class="colLast">
<div class="block">Sets the name of the field containing the virtual host information (this is in fact the server name).</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startInternal()">startInternal</a></span>()</code></th>
<td class="colLast">
<div class="block">Start this component and implement the requirements of
 <a href="../util/LifecycleBase.html#startInternal()"><code>LifecycleBase.startInternal()</code></a>.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stopInternal()">stopInternal</a></span>()</code></th>
<td class="colLast">
<div class="block">Stop this component and implement the requirements of
 <a href="../util/LifecycleBase.html#stopInternal()"><code>LifecycleBase.stopInternal()</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.catalina.valves.ValveBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.catalina.valves.<a href="ValveBase.html" title="class in org.apache.catalina.valves">ValveBase</a></h3>
<code><a href="ValveBase.html#backgroundProcess()">backgroundProcess</a>, <a href="ValveBase.html#getContainer()">getContainer</a>, <a href="ValveBase.html#getDomainInternal()">getDomainInternal</a>, <a href="ValveBase.html#getNext()">getNext</a>, <a href="ValveBase.html#getObjectNameKeyProperties()">getObjectNameKeyProperties</a>, <a href="ValveBase.html#initInternal()">initInternal</a>, <a href="ValveBase.html#isAsyncSupported()">isAsyncSupported</a>, <a href="ValveBase.html#setAsyncSupported(boolean)">setAsyncSupported</a>, <a href="ValveBase.html#setContainer(org.apache.catalina.Container)">setContainer</a>, <a href="ValveBase.html#setNext(org.apache.catalina.Valve)">setNext</a>, <a href="ValveBase.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.catalina.util.LifecycleMBeanBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.catalina.util.<a href="../util/LifecycleMBeanBase.html" title="class in org.apache.catalina.util">LifecycleMBeanBase</a></h3>
<code><a href="../util/LifecycleMBeanBase.html#destroyInternal()">destroyInternal</a>, <a href="../util/LifecycleMBeanBase.html#getDomain()">getDomain</a>, <a href="../util/LifecycleMBeanBase.html#getObjectName()">getObjectName</a>, <a href="../util/LifecycleMBeanBase.html#postDeregister()">postDeregister</a>, <a href="../util/LifecycleMBeanBase.html#postRegister(java.lang.Boolean)">postRegister</a>, <a href="../util/LifecycleMBeanBase.html#preDeregister()">preDeregister</a>, <a href="../util/LifecycleMBeanBase.html#preRegister(javax.management.MBeanServer,javax.management.ObjectName)">preRegister</a>, <a href="../util/LifecycleMBeanBase.html#register(java.lang.Object,java.lang.String)">register</a>, <a href="../util/LifecycleMBeanBase.html#setDomain(java.lang.String)">setDomain</a>, <a href="../util/LifecycleMBeanBase.html#unregister(java.lang.String)">unregister</a>, <a href="../util/LifecycleMBeanBase.html#unregister(javax.management.ObjectName)">unregister</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.catalina.util.LifecycleBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.catalina.util.<a href="../util/LifecycleBase.html" title="class in org.apache.catalina.util">LifecycleBase</a></h3>
<code><a href="../util/LifecycleBase.html#addLifecycleListener(org.apache.catalina.LifecycleListener)">addLifecycleListener</a>, <a href="../util/LifecycleBase.html#destroy()">destroy</a>, <a href="../util/LifecycleBase.html#findLifecycleListeners()">findLifecycleListeners</a>, <a href="../util/LifecycleBase.html#fireLifecycleEvent(java.lang.String,java.lang.Object)">fireLifecycleEvent</a>, <a href="../util/LifecycleBase.html#getState()">getState</a>, <a href="../util/LifecycleBase.html#getStateName()">getStateName</a>, <a href="../util/LifecycleBase.html#getThrowOnFailure()">getThrowOnFailure</a>, <a href="../util/LifecycleBase.html#init()">init</a>, <a href="../util/LifecycleBase.html#removeLifecycleListener(org.apache.catalina.LifecycleListener)">removeLifecycleListener</a>, <a href="../util/LifecycleBase.html#setState(org.apache.catalina.LifecycleState)">setState</a>, <a href="../util/LifecycleBase.html#setState(org.apache.catalina.LifecycleState,java.lang.Object)">setState</a>, <a href="../util/LifecycleBase.html#setThrowOnFailure(boolean)">setThrowOnFailure</a>, <a href="../util/LifecycleBase.html#start()">start</a>, <a href="../util/LifecycleBase.html#stop()">stop</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JDBCAccessLogValve</h4>
<pre>public&nbsp;JDBCAccessLogValve()</pre>
<div class="block">Class constructor. Initializes the fields with the default values. The defaults are:

 <pre>
 driverName = null;
 connectionURL = null;
 tableName = "access";
 remoteHostField = "remoteHost";
 userField = "userName";
 timestampField = "timestamp";
 virtualHostField = "virtualHost";
 methodField = "method";
 queryField = "query";
 statusField = "status";
 bytesField = "bytes";
 refererField = "referer";
 userAgentField = "userAgent";
 pattern = "common";
 resolveHosts = false;
 </pre></div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setRequestAttributesEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequestAttributesEnabled</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRequestAttributesEnabled&#8203;(boolean&nbsp;requestAttributesEnabled)</pre>
<div class="block">Should this valve use request attributes for IP address, hostname,
 protocol and port used for the request?

 The attributes used are:
 <ul>
 <li>org.apache.catalina.RemoteAddr</li>
 <li>org.apache.catalina.RemoteHost</li>
 <li>org.apache.catalina.Protocol</li>
 <li>org.apache.catalina.ServerName</li>
 <li>org.apache.catalina.ServerPost</li>
 </ul> Default is <code>true</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AccessLog.html#setRequestAttributesEnabled(boolean)">setRequestAttributesEnabled</a></code>&nbsp;in interface&nbsp;<code><a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestAttributesEnabled</code> - <code>true</code> causes the attributes
                                  to be used, <code>false</code> causes
                                  the original values to be used.</dd>
</dl>
</li>
</ul>
<a id="getRequestAttributesEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestAttributesEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getRequestAttributesEnabled()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AccessLog.html#getRequestAttributesEnabled()">getRequestAttributesEnabled</a></code>&nbsp;in interface&nbsp;<code><a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the attributes will be logged, otherwise
         <code>false</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../AccessLog.html#setRequestAttributesEnabled(boolean)"><code>AccessLog.setRequestAttributesEnabled(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="getConnectionName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectionName</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getConnectionName()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the username to use to connect to the database.</dd>
</dl>
</li>
</ul>
<a id="setConnectionName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnectionName</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setConnectionName&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionName)</pre>
<div class="block">Set the username to use to connect to the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectionName</code> - Username</dd>
</dl>
</li>
</ul>
<a id="setDriverName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDriverName</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDriverName&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;driverName)</pre>
<div class="block">Sets the database driver name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>driverName</code> - The complete name of the database driver class.</dd>
</dl>
</li>
</ul>
<a id="getConnectionPassword()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectionPassword</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getConnectionPassword()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the password to use to connect to the database.</dd>
</dl>
</li>
</ul>
<a id="setConnectionPassword(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnectionPassword</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setConnectionPassword&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionPassword)</pre>
<div class="block">Set the password to use to connect to the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectionPassword</code> - User password</dd>
</dl>
</li>
</ul>
<a id="setConnectionURL(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnectionURL</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setConnectionURL&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;connectionURL)</pre>
<div class="block">Sets the JDBC URL for the database where the log is stored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectionURL</code> - The JDBC URL of the database.</dd>
</dl>
</li>
</ul>
<a id="setTableName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTableName</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTableName&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tableName)</pre>
<div class="block">Sets the name of the table where the logs are stored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tableName</code> - The name of the table.</dd>
</dl>
</li>
</ul>
<a id="setRemoteHostField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRemoteHostField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRemoteHostField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;remoteHostField)</pre>
<div class="block">Sets the name of the field containing the remote host.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remoteHostField</code> - The name of the remote host field.</dd>
</dl>
</li>
</ul>
<a id="setUserField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUserField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;userField)</pre>
<div class="block">Sets the name of the field containing the remote user name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userField</code> - The name of the remote user field.</dd>
</dl>
</li>
</ul>
<a id="setTimestampField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimestampField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTimestampField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;timestampField)</pre>
<div class="block">Sets the name of the field containing the server-determined timestamp.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestampField</code> - The name of the server-determined timestamp field.</dd>
</dl>
</li>
</ul>
<a id="setVirtualHostField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVirtualHostField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setVirtualHostField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;virtualHostField)</pre>
<div class="block">Sets the name of the field containing the virtual host information (this is in fact the server name).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>virtualHostField</code> - The name of the virtual host field.</dd>
</dl>
</li>
</ul>
<a id="setMethodField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMethodField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMethodField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;methodField)</pre>
<div class="block">Sets the name of the field containing the HTTP request method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>methodField</code> - The name of the HTTP request method field.</dd>
</dl>
</li>
</ul>
<a id="setQueryField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setQueryField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setQueryField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;queryField)</pre>
<div class="block">Sets the name of the field containing the URL part of the HTTP query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryField</code> - The name of the field containing the URL part of the HTTP query.</dd>
</dl>
</li>
</ul>
<a id="setStatusField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStatusField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setStatusField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;statusField)</pre>
<div class="block">Sets the name of the field containing the HTTP response status code.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statusField</code> - The name of the HTTP response status code field.</dd>
</dl>
</li>
</ul>
<a id="setBytesField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBytesField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setBytesField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;bytesField)</pre>
<div class="block">Sets the name of the field containing the number of bytes returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesField</code> - The name of the returned bytes field.</dd>
</dl>
</li>
</ul>
<a id="setRefererField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRefererField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRefererField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;refererField)</pre>
<div class="block">Sets the name of the field containing the referer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>refererField</code> - The referer field name.</dd>
</dl>
</li>
</ul>
<a id="setUserAgentField(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserAgentField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUserAgentField&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;userAgentField)</pre>
<div class="block">Sets the name of the field containing the user agent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userAgentField</code> - The name of the user agent field.</dd>
</dl>
</li>
</ul>
<a id="setPattern(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPattern</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setPattern&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pattern)</pre>
<div class="block">Sets the logging pattern. The patterns supported correspond to the file-based "common" and "combined". These are
 translated into the use of tables containing either set of fields.
 <P>
 <I>TO DO: more flexible field choices.</I>
 </P></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pattern</code> - The name of the logging pattern.</dd>
</dl>
</li>
</ul>
<a id="setResolveHosts(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setResolveHosts</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setResolveHosts&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;resolveHosts)</pre>
<div class="block">Determines whether IP host name resolution is done.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolveHosts</code> - "true" or "false", if host IP resolution is desired or not.</dd>
</dl>
</li>
</ul>
<a id="getUseLongContentLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUseLongContentLength</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getUseLongContentLength()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if content length should be considered a long rather than an int, defaults to
             <code>false</code></dd>
</dl>
</li>
</ul>
<a id="setUseLongContentLength(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseLongContentLength</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUseLongContentLength&#8203;(boolean&nbsp;useLongContentLength)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>useLongContentLength</code> - the useLongContentLength to set</dd>
</dl>
</li>
</ul>
<a id="invoke(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invoke</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;invoke&#8203;(<a href="../connector/Request.html" title="class in org.apache.catalina.connector">Request</a>&nbsp;request,
                   <a href="../connector/Response.html" title="class in org.apache.catalina.connector">Response</a>&nbsp;response)
            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                   <a href="https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/ServletException.html?is-external=true" title="class or interface in jakarta.servlet" class="externalLink">ServletException</a></pre>
<div class="block">This method is invoked by Tomcat on each query.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../Valve.html#invoke(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response)">invoke</a></code>&nbsp;in interface&nbsp;<code><a href="../Valve.html" title="interface in org.apache.catalina">Valve</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The Request object.</dd>
<dd><code>response</code> - The Response object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Should not be thrown.</dd>
<dd><code><a href="https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/ServletException.html?is-external=true" title="class or interface in jakarta.servlet" class="externalLink">ServletException</a></code> - Database SQLException is wrapped in a ServletException.</dd>
</dl>
</li>
</ul>
<a id="log(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;log&#8203;(<a href="../connector/Request.html" title="class in org.apache.catalina.connector">Request</a>&nbsp;request,
                <a href="../connector/Response.html" title="class in org.apache.catalina.connector">Response</a>&nbsp;response,
                long&nbsp;time)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../AccessLog.html#log(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response,long)">AccessLog</a></code></span></div>
<div class="block">Add the request/response to the access log using the specified processing
 time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AccessLog.html#log(org.apache.catalina.connector.Request,org.apache.catalina.connector.Response,long)">log</a></code>&nbsp;in interface&nbsp;<code><a href="../AccessLog.html" title="interface in org.apache.catalina">AccessLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Request (associated with the response) to log</dd>
<dd><code>response</code> - Response (associated with the request) to log</dd>
<dd><code>time</code> - Time taken to process the request/response in
                  nanoseconds (use 0 if not known); in Tomcat
                  versions prior to 10, the time unit was
                  milliseconds</dd>
</dl>
</li>
</ul>
<a id="open()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;open()
             throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Open (if necessary) and return a database connection for use by this AccessLogValve.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code> - if a database error occurs</dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;close()</pre>
<div class="block">Close the specified database connection.</div>
</li>
</ul>
<a id="startInternal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startInternal</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;startInternal()
                      throws <a href="../LifecycleException.html" title="class in org.apache.catalina">LifecycleException</a></pre>
<div class="block">Start this component and implement the requirements of
 <a href="../util/LifecycleBase.html#startInternal()"><code>LifecycleBase.startInternal()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="ValveBase.html#startInternal()">startInternal</a></code>&nbsp;in class&nbsp;<code><a href="ValveBase.html" title="class in org.apache.catalina.valves">ValveBase</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../LifecycleException.html" title="class in org.apache.catalina">LifecycleException</a></code> - if this component detects a fatal error that prevents this component from being
                                   used</dd>
</dl>
</li>
</ul>
<a id="stopInternal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopInternal</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;stopInternal()
                     throws <a href="../LifecycleException.html" title="class in org.apache.catalina">LifecycleException</a></pre>
<div class="block">Stop this component and implement the requirements of
 <a href="../util/LifecycleBase.html#stopInternal()"><code>LifecycleBase.stopInternal()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="ValveBase.html#stopInternal()">stopInternal</a></code>&nbsp;in class&nbsp;<code><a href="ValveBase.html" title="class in org.apache.catalina.valves">ValveBase</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../LifecycleException.html" title="class in org.apache.catalina">LifecycleException</a></code> - if this component detects a fatal error that prevents this component from being
                                   used</dd>
</dl>
</li>
</ul>
<a id="getCurrentTimeMillis()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCurrentTimeMillis</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getCurrentTimeMillis()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache Tomcat 10.1.11</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2000-2023 Apache Software Foundation. All Rights Reserved.</small></p>
</footer>
</body>
</html>
